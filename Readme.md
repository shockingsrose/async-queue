# Queue队列

#### 含义

> 队列是一种特殊的线性表，特殊之处在于它只允许在表的前端（front）进行删除操作，而在表的后端（end）进行插入操作，和栈一样，队列是一种操作受限制的线性表。进行插入操作的端称为队尾，进行删除操作的端称为队首。
>
> 队列的数据元素又称为队列元素。在队列中插入一个队列元素称为入队，从队列中删除一个队列元素称为出队。因为队列只允许在一端插入，在另一端删除，所以只有最早进入队列的元素才能最先从队列中删除，故队列的特性为 **先进先出** (First-In-First-Out，FIFO)



#### 解决问题

>  Node端复杂逻辑处理 异步操作叠加 需要通过队列维护任务的并发执行 防止CPU使用率爆表。



#### 设计思路

1. 继承events事件类，用于后面事件的发布与订阅

2. 初始化队列，设置内部属性
   - 队列: `_queue <Array>` 
   - 队列状态：`_status <boolean>`
   - 队列并发数：`_concurrency <number>`
   - 执行线程集合：`_running <Array>`
3. 外部任务入列时，将任务推入`_queue`中，并且判断执行线程`_running`是否有空闲的线程，如果有，调用`exec()`，去执行该任务，当前任务执行完成时，如果`_queue`队列里还有其他的任务等待执行，取出队列最前面的任务，递归调用`exec()`。